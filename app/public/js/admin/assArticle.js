"use strict";$(function(){var e=new Cookie,t=new Message,r={title:$("#article-title")[0]},a=editormd("editormd",{path:"/public/lib/editor.md-lib/",placeholder:"使用 TeanBlog 开启你的写作之旅吧~",toolbarIcons:function(){return["undo","redo","bold","del","italic","quote","ucwords","uppercase","lowercase","h1","h2","h3","list-ul","list-ol","hr","link","reference-link","image","code","code-block","table","datetime","html-entities","pagebreak","watch","preview","clear","search"]},editorTheme:"neo",previewTheme:"neo",watch:!1});$("#article-save").click(function(){var i,n=((i=new Validator).add(r.title,[{strategy:"isNonEmpty",errorMsg:"标题不能为空"},{strategy:"max:100",errorMsg:"标题不能超过 100 个字"}]),i.start()),o={title:$("#article-title").val(),content:a.getMarkdown()};return n?(t.warning(n),!1):o.content.trim().length?void $.ajax({type:"POST",url:"/api/admin/article/add",headers:{Authorization:e.get("TEAN_ADMIN")},contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(e){window.location.href="/admin/article/manage/1"},error:function(e){e.status>400&&(window.href="/admin/login");var r="";r=e.responseJSON.msg?e.responseJSON.msg:e.status+": "+e.statusText,t.error(r)}}):(t.warning("文章内容不能为空"),!1)})});